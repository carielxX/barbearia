<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cadastro — BarbLab</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script defer src="{{ url_for('static', filename='js/app.js') }}"></script>
  <style>
    .form-section {
      max-width: 550px;
    }

    .form-group {
      margin-bottom: 18px;
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      color: #ccc;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .form-group label .required {
      color: #ff7675;
    }

    .input-wrapper {
      position: relative;
    }

    .input-wrapper i {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
      transition: color 0.3s;
    }

    .input-wrapper input,
    .input-wrapper textarea {
      padding-left: 42px;
    }

    .input-wrapper textarea {
      padding-top: 12px;
    }

    .form-group.success .input-wrapper i { color: #00b894; }
    .form-group.error .input-wrapper i { color: #ff7675; }

    .form-group.success input { border-color: #00b894; }
    .form-group.error input { border-color: #ff7675; }

    .toggle-password {
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #666;
      cursor: pointer;
      padding: 5px;
      width: auto;
    }

    .feedback {
      display: block;
      font-size: 0.8rem;
      margin-top: 5px;
      min-height: 18px;
    }

    .feedback.success { color: #00b894; }
    .feedback.error { color: #ff7675; }
    .feedback.loading { color: #f39c12; }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    @media (max-width: 500px) {
      .form-row { grid-template-columns: 1fr; }
    }

    /* Password Strength */
    .password-strength {
      margin-top: 8px;
    }

    .strength-bar {
      height: 4px;
      background: #333;
      border-radius: 2px;
      overflow: hidden;
    }

    .strength-fill {
      height: 100%;
      width: 0%;
      transition: all 0.3s;
      border-radius: 2px;
    }

    .strength-fill.weak { width: 25%; background: #ff7675; }
    .strength-fill.medium { width: 50%; background: #f39c12; }
    .strength-fill.strong { width: 75%; background: #00b894; }
    .strength-fill.very-strong { width: 100%; background: #00d1a7; }

    .strength-text {
      font-size: 0.75rem;
      color: #888;
      margin-top: 4px;
    }

    /* Progress */
    .progress-container {
      margin-bottom: 25px;
    }

    .progress-bar {
      height: 6px;
      background: #333;
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #00b894, #00d1a7);
      width: 0%;
      transition: width 0.3s;
    }

    .progress-text {
      font-size: 0.8rem;
      color: #888;
      margin-top: 5px;
      text-align: center;
    }

    /* Sections */
    .form-section-title {
      color: #00b894;
      font-size: 0.95rem;
      margin: 25px 0 15px;
      padding-bottom: 8px;
      border-bottom: 1px solid #222;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-section-title:first-of-type {
      margin-top: 0;
    }

    /* Terms */
    .terms-group {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin: 20px 0;
    }

    .terms-group input[type="checkbox"] {
      width: 18px;
      height: 18px;
      margin-top: 2px;
      accent-color: #00b894;
      cursor: pointer;
    }

    .terms-group label {
      font-size: 0.9rem;
      color: #aaa;
      cursor: pointer;
    }

    .terms-group a {
      color: #00b894;
      text-decoration: none;
    }

    /* Submit */
    .btn-submit {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .redirect {
      text-align: center;
      margin-top: 20px;
      color: #888;
    }

    .redirect a {
      color: #00b894;
      text-decoration: none;
      font-weight: 600;
    }

    /* Char counter */
    .char-counter {
      text-align: right;
      font-size: 0.75rem;
      color: #666;
      margin-top: 4px;
    }
  </style>
</head>

<body>
<header class="site-header">
  <div class="logo">Barb<span>Lab</span></div>
  <nav>
    <a href="/">Início</a>
    <a href="/cadastro" class="active">Cadastro</a>
    <a href="/login">Login</a>
  </nav>
</header>

<section class="form-section">
  <h2><i class="fas fa-user-plus"></i> Criar Conta</h2>

  <!-- Progress -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <p class="progress-text"><span id="filledFields">0</span> de <span id="totalFields">5</span> campos obrigatórios</p>
  </div>

  <form id="cadastroForm" novalidate>
    
    <!-- Dados Pessoais -->
    <div class="form-section-title">
      <i class="fas fa-user"></i> Dados Pessoais
    </div>

    <div class="form-group">
      <label for="nome">Nome completo <span class="required">*</span></label>
      <div class="input-wrapper">
        <i class="fas fa-user"></i>
        <input 
          type="text" 
          id="nome" 
          placeholder="Digite seu nome completo" 
          required
          minlength="3"
          autocomplete="name"
        >
      </div>
      <small class="feedback" id="nomeFeedback"></small>
    </div>

    <div class="form-group">
      <label for="cpf">CPF <span class="required">*</span></label>
      <div class="input-wrapper">
        <i class="fas fa-id-card"></i>
        <input 
          type="text" 
          id="cpf" 
          maxlength="14" 
          placeholder="000.000.000-00" 
          required
          inputmode="numeric"
        >
      </div>
      <small class="feedback" id="cpfFeedback"></small>
    </div>

    <!-- Segurança -->
    <div class="form-section-title">
      <i class="fas fa-lock"></i> Segurança
    </div>

    <div class="form-group">
      <label for="password">Senha <span class="required">*</span></label>
      <div class="input-wrapper">
        <i class="fas fa-lock"></i>
        <input 
          type="password" 
          id="password" 
          placeholder="Crie uma senha forte" 
          required
          minlength="6"
          autocomplete="new-password"
        >
        <button type="button" class="toggle-password" data-target="password">
          <i class="fas fa-eye"></i>
        </button>
      </div>
      <div class="password-strength">
        <div class="strength-bar">
          <div class="strength-fill" id="strengthFill"></div>
        </div>
        <small class="strength-text" id="strengthText">Mínimo 6 caracteres</small>
      </div>
    </div>

    <div class="form-group">
      <label for="password2">Confirmar senha <span class="required">*</span></label>
      <div class="input-wrapper">
        <i class="fas fa-lock"></i>
        <input 
          type="password" 
          id="password2" 
          placeholder="Repita a senha" 
          required
          autocomplete="new-password"
        >
        <button type="button" class="toggle-password" data-target="password2">
          <i class="fas fa-eye"></i>
        </button>
      </div>
      <small class="feedback" id="password2Feedback"></small>
    </div>

    <!-- Contato -->
    <div class="form-section-title">
      <i class="fas fa-address-book"></i> Contato
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="email">E-mail <span class="required">*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-envelope"></i>
          <input 
            type="email" 
            id="email" 
            placeholder="seu@email.com"
            required
            autocomplete="email"
          >
        </div>
        <small class="feedback" id="emailFeedback"></small>
      </div>

      <div class="form-group">
        <label for="telefone">Telefone</label>
        <div class="input-wrapper">
          <i class="fas fa-phone"></i>
          <input 
            type="tel" 
            id="telefone" 
            placeholder="(11) 99999-9999"
            maxlength="15"
            inputmode="tel"
            autocomplete="tel"
          >
        </div>
        <small class="feedback" id="telefoneFeedback"></small>
      </div>
    </div>

    <!-- Endereço -->
    <div class="form-section-title">
      <i class="fas fa-map-marker-alt"></i> Endereço (opcional)
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="cep">CEP</label>
        <div class="input-wrapper">
          <i class="fas fa-map-pin"></i>
          <input 
            type="text" 
            id="cep" 
            maxlength="9" 
            placeholder="00000-000"
            inputmode="numeric"
            autocomplete="postal-code"
          >
        </div>
        <small class="feedback" id="cepFeedback"></small>
      </div>

      <div class="form-group">
        <label for="numero">Número</label>
        <div class="input-wrapper">
          <i class="fas fa-home"></i>
          <input 
          type="text" 
          id="numero" 
          placeholder="Nº"
          maxlength="10"
        >
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="endereco">Endereço completo</label>
    <div class="input-wrapper">
      <i class="fas fa-road"></i>
      <input 
        type="text" 
        id="endereco" 
        placeholder="Rua, bairro, cidade - estado"
        autocomplete="street-address"
      >
    </div>
  </div>

  <div class="form-group">
    <label for="complemento">Complemento</label>
    <div class="input-wrapper">
      <i class="fas fa-building"></i>
      <input 
        type="text" 
        id="complemento" 
        placeholder="Apto, bloco, referência..."
      >
    </div>
  </div>

  <!-- Observações -->
  <div class="form-section-title">
    <i class="fas fa-comment-alt"></i> Informações Adicionais
  </div>

  <div class="form-group">
    <label for="observacoes">Observações</label>
    <textarea 
      id="observacoes" 
      placeholder="Alguma informação adicional? (alergias, preferências, etc.)"
      rows="3"
      maxlength="500"
    ></textarea>
    <small class="char-counter" id="obsCounter">0 / 500 caracteres</small>
  </div>

  <!-- Termos -->
  <div class="terms-group">
    <input type="checkbox" id="termos" required>
    <label for="termos">
      Li e aceito os <a href="#" target="_blank">Termos de Uso</a> 
      e a <a href="#" target="_blank">Política de Privacidade</a>
      <span class="required">*</span>
    </label>
  </div>
  <small class="feedback" id="termosFeedback"></small>

  <!-- Submit -->
  <button type="submit" id="btnCadastrar" class="btn btn-submit">
    <i class="fas fa-user-plus"></i>
    <span>Criar minha conta</span>
  </button>

  <div id="msg" class="msg" style="display: none;"></div>

  <p class="redirect">
    Já tem uma conta? <a href="/login"><i class="fas fa-sign-in-alt"></i> Fazer login</a>
  </p>
</form>
</section>

<footer>© 2025 BarbLab</footer>
</body>
</html>
            